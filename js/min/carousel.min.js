!function(t){var e={init:function(e){var i={duration:200,dist:-100,shift:0,padding:0,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null};return e=t.extend(i,e),this.each(function(){function i(){"undefined"!=typeof window.ontouchstart&&(q[0].addEventListener("touchstart",u),q[0].addEventListener("touchmove",f),q[0].addEventListener("touchend",h)),q[0].addEventListener("mousedown",u),q[0].addEventListener("mousemove",f),q[0].addEventListener("mouseup",h),q[0].addEventListener("mouseleave",h),q[0].addEventListener("click",d)}function n(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function a(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function r(t){return t>=T?t%T:0>t?r(T+t%T):t}function s(i){var n,a,s,o,l,d,c,u=x;if(m="number"==typeof i?i:m,x=Math.floor((m+W/2)/W),s=m-x*W,o=0>s?1:-1,l=-o*s*2/W,a=T>>1,e.fullWidth?c="translateX(0)":(c="translateX("+(q[0].clientWidth-v)/2+"px) ",c+="translateY("+(q[0].clientHeight-g)/2+"px)"),H){var f=x%T,h=I.find(".indicator-item.active");h.index()!==f&&(h.removeClass("active"),I.find(".indicator-item").eq(f).addClass("active"))}for((!e.noWrap||x>=0&&T>x)&&(d=p[r(x)],t(d).hasClass("active")||(q.find(".carousel-item").removeClass("active"),t(d).addClass("active")),d.style[O]=c+" translateX("+-s/2+"px) translateX("+o*e.shift*l*n+"px) translateZ("+e.dist*l+"px)",d.style.zIndex=0,tweenedOpacity=e.fullWidth?1:1-.2*l,d.style.opacity=tweenedOpacity,d.style.display="block"),n=1;a>=n;++n)e.fullWidth?(zTranslation=e.dist,tweenedOpacity=n===a&&0>s?1-l:1):(zTranslation=e.dist*(2*n+l*o),tweenedOpacity=1-.2*(2*n+l*o)),(!e.noWrap||T>x+n)&&(d=p[r(x+n)],d.style[O]=c+" translateX("+(e.shift+(W*n-s)/2)+"px) translateZ("+zTranslation+"px)",d.style.zIndex=-n,d.style.opacity=tweenedOpacity,d.style.display="block"),e.fullWidth?(zTranslation=e.dist,tweenedOpacity=n===a&&s>0?1-l:1):(zTranslation=e.dist*(2*n-l*o),tweenedOpacity=1-.2*(2*n-l*o)),(!e.noWrap||x-n>=0)&&(d=p[r(x-n)],d.style[O]=c+" translateX("+(-e.shift+(-W*n-s)/2)+"px) translateZ("+zTranslation+"px)",d.style.zIndex=-n,d.style.opacity=tweenedOpacity,d.style.display="block");if((!e.noWrap||x>=0&&T>x)&&(d=p[r(x)],d.style[O]=c+" translateX("+-s/2+"px) translateX("+o*e.shift*l+"px) translateZ("+e.dist*l+"px)",d.style.zIndex=0,tweenedOpacity=e.fullWidth?1:1-.2*l,d.style.opacity=tweenedOpacity,d.style.display="block"),u!==x&&"function"==typeof e.onCycleTo){var y=q.find(".carousel-item").eq(r(x));e.onCycleTo.call(this,y,L)}}function o(){var t,e,i,n;t=Date.now(),e=t-P,P=t,i=m-X,X=m,n=1e3*i/(1+e),D=.8*n+.2*D}function l(){var t,i;C&&(t=Date.now()-P,i=C*Math.exp(-t/e.duration),i>2||-2>i?(s(M-i),requestAnimationFrame(l)):s(M))}function d(i){if(L)return i.preventDefault(),i.stopPropagation(),!1;if(!e.fullWidth){var n=t(i.target).closest(".carousel-item").index(),a=x%T-n;0!==a&&(i.preventDefault(),i.stopPropagation()),c(n)}}function c(t){var i=x%T-t;e.noWrap||(0>i?Math.abs(i+T)<Math.abs(i)&&(i+=T):i>0&&Math.abs(i-T)<i&&(i-=T)),0>i?q.trigger("carouselNext",[Math.abs(i)]):i>0&&q.trigger("carouselPrev",[i])}function u(t){w=!0,L=!1,k=!1,z=n(t),b=a(t),D=C=0,X=m,P=Date.now(),clearInterval(E),E=setInterval(o,100)}function f(t){var e,i,r;if(w)if(e=n(t),y=a(t),i=z-e,r=Math.abs(b-y),30>r&&!k)(i>2||-2>i)&&(L=!0,z=e,s(m+i));else{if(L)return t.preventDefault(),t.stopPropagation(),!1;k=!0}return L?(t.preventDefault(),t.stopPropagation(),!1):void 0}function h(t){return w?(w=!1,clearInterval(E),M=m,(D>10||-10>D)&&(C=.9*D,M=m+C),M=Math.round(M/W)*W,e.noWrap&&(M>=W*(T-1)?M=W*(T-1):0>M&&(M=0)),C=M-m,P=Date.now(),requestAnimationFrame(l),L&&(t.preventDefault(),t.stopPropagation()),!1):void 0}var p,v,g,m,x,w,W,T,z,b,C,M,D,O,X,P,E,L,k,I=t('<ul class="indicators"></ul>'),q=t(this),H=q.attr("data-indicators")||e.indicators;if(q.hasClass("initialized"))return t(this).trigger("carouselNext",[1e-6]),!0;if(e.fullWidth){e.dist=0;var A=q.find(".carousel-item img").first();A.length?imageHeight=A.on("load",function(){q.css("height",t(this).height())}):(imageHeight=q.find(".carousel-item").first().height(),q.css("height",imageHeight)),H&&q.find(".carousel-fixed-item").addClass("with-indicators")}q.addClass("initialized"),w=!1,m=M=0,p=[],v=q.find(".carousel-item").first().innerWidth(),g=q.find(".carousel-item").first().innerHeight(),W=2*v+e.padding,q.find(".carousel-item").each(function(e){if(p.push(t(this)[0]),H){var i=t('<li class="indicator-item"></li>');0===e&&i.addClass("active"),i.click(function(e){e.stopPropagation();var i=t(this).index();c(i)}),I.append(i)}}),H&&q.append(I),T=p.length,O="transform",["webkit","Moz","O","ms"].every(function(t){var e=t+"Transform";return"undefined"!=typeof document.body.style[e]?(O=e,!1):!0}),t(window).on("resize.carousel",function(){e.fullWidth?(v=q.find(".carousel-item").first().innerWidth(),g=q.find(".carousel-item").first().innerHeight(),W=2*v+e.padding,m=2*x*v,M=m):s()}),i(),s(m),t(this).on("carouselNext",function(t,e){void 0===e&&(e=1),M=W*Math.round(m/W)+W*e,m!==M&&(C=M-m,P=Date.now(),requestAnimationFrame(l))}),t(this).on("carouselPrev",function(t,e){void 0===e&&(e=1),M=W*Math.round(m/W)-W*e,m!==M&&(C=M-m,P=Date.now(),requestAnimationFrame(l))}),t(this).on("carouselSet",function(t,e){void 0===e&&(e=0),c(e)})})},next:function(e){t(this).trigger("carouselNext",[e])},prev:function(e){t(this).trigger("carouselPrev",[e])},set:function(e){t(this).trigger("carouselSet",[e])}};t.fn.carousel=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?(t.error("Method "+i+" does not exist on jQuery.carousel"),void 0):e.init.apply(this,arguments)}}(jQuery);