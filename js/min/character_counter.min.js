!function(a){function t(){var t=+a(this).attr("data-length"),n=+a(this).val().length,r=t>=n;a(this).parent().find('span[class="character-counter"]').html(n+"/"+t),s(r,a(this))}function n(t){var n=t.parent().find('span[class="character-counter"]');n.length||(n=a("<span/>").addClass("character-counter").css("float","right").css("font-size","12px").css("height",1),t.parent().append(n))}function r(){a(this).parent().find('span[class="character-counter"]').html("")}function s(a,t){var n=t.hasClass("invalid");a&&n?t.removeClass("invalid"):a||n||(t.removeClass("valid"),t.addClass("invalid"))}a.fn.characterCounter=function(){return this.each(function(){var s=a(this),e=s.parent().find('span[class="character-counter"]');if(!e.length){var c=void 0!==s.attr("data-length");c&&(s.on("input",t),s.on("focus",t),s.on("blur",r),n(s))}})},a(document).ready(function(){a("input, textarea").characterCounter()})}(jQuery);